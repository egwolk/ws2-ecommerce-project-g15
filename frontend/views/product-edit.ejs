<div class="form-container">
    <div class="form-header">
        <div class="form-title">EDIT PRODUCT</div>
    </div>
    <div class="form-sections">
        <div class="sect">
            <form action="/products/admin/<%= product._id %>/edit" method="POST" enctype="multipart/form-data" autocomplete="off">
                <label for="name">Product Name:</label>
                <input type="text" name="name" id="name" value="<%= product.name %>" autocomplete="off" required>

                <label for="description">Description:</label>
                <textarea name="description" id="description" rows="4"><%= product.description %></textarea>

                <label for="price">Price:</label>
                <input type="number" name="price" id="price" step="0.01" min="0" value="<%= product.price %>" required>

                <label for="category">Category:</label>
                <input type="text" name="category" id="category" value="<%= product.category %>" autocomplete="off">

                <% if (product.imageUrl) { %>
                    <label>Current Image:</label>
                    <div class="current-image">
                        <img src="<%= product.imageUrl %>" alt="Current product image" style="max-width: 200px; max-height: 200px; object-fit: cover; border: 1px solid var(--warm-off-white);">
                    </div>
                <% } %>

                <label for="productImage">Update Product Image:</label>
                <input type="file" name="productImage" id="productImage" accept="image/jpeg,image/jpg,image/png,image/gif,image/webp">
                <small>Supported formats: JPEG, PNG, GIF, WebP. Max size: 5MB. Leave empty to keep current image.</small>

                <label for="isActive">Status:</label>
                <select name="isActive" id="isActive">
                    <option value="true" <%= product.isActive ? 'selected' : '' %>>Active</option>
                    <option value="false" <%= !product.isActive ? 'selected' : '' %>>Inactive</option>
                </select>

                <div class="btn-container">
                    <button type="submit">Update Product</button>
                </div>
            </form>
        </div>
        <div class="sect login-info">
            <div class="utils">
                <p><a href="/products/admin">‚Üê Back to Manage Products</a></p>
            </div>
            <% if (typeof message !== 'undefined' && message) { %>
                <div class="message">
                    <%= message %>
                </div>
            <% } %> 
        </div>
    </div>
</div>